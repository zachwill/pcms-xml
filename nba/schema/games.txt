### nba.games

- game_id text PRIMARY KEY
- league_id text
- season_year integer
- season_label text
- season_type text
- game_date date
- game_sequence integer
- postponed_status text -- "Y"/"N"/"A" or similar source flag
- game_date_est timestamptz
- game_date_utc timestamptz
- game_time_utc timestamptz
- game_datetime_utc timestamptz
- game_code text
- game_status integer
- game_status_text text
- period integer
- game_clock text
- home_team_id integer REFERENCES nba.teams(team_id)
- away_team_id integer REFERENCES nba.teams(team_id)
- home_score integer
- away_score integer
- home_wins integer
- home_losses integer
- away_wins integer
- away_losses integer
- arena_name text
- arena_city text
- arena_state text
- arena_timezone text
- attendance integer
- game_duration_minutes integer
- week_number integer
- week_name text
- game_label text
- game_sublabel text
- game_subtype text
- series_game_number text
- series_text text
- series_conference text
- po_round integer
- if_necessary boolean
- is_neutral boolean
- is_target_score_ending boolean
- target_score_period integer
- target_score integer
- national_broadcasters text[]
- home_tv_broadcasters text[]
- home_radio_broadcasters text[]
- away_tv_broadcasters text[]
- away_radio_broadcasters text[]
- game_json jsonb
- ngss_game_id text

- created_at timestamptz
- updated_at timestamptz
- fetched_at timestamptz

#### Constraints & Indexes
- UNIQUE (game_id)
- INDEX ON (game_date)
- INDEX ON (home_team_id)
- INDEX ON (away_team_id)
- INDEX ON (season_year, season_type)
- INDEX ON (season_label)
- INDEX ON (league_id)
- INDEX ON (ngss_game_id)

#### Notes
- `game_id` is the official 10-digit NBA game identifier (e.g., "0022300001").
- `league_id` usually "00" for NBA, "10" for WNBA, "20" for G League.
- `season_year` is the starting year of the season (e.g., 2023 for the 2023-24 season).
- `season_label` is the display string for the season (e.g., "2023-24").
- `season_type` values include 'Regular Season', 'Preseason', 'Playoffs', 'All-Star', 'PlayIn', 'IST Championship'.
- `game_sequence`: Deterministic ordering value for a slate/day as provided by the Schedule API.
- `postponed_status`: Postponement flag as provided by the Schedule API (stored verbatim; typically "Y"/"N"/"A").
- `game_status`: 1 = Pregame, 2 = Live, 3 = Final.
- `game_clock`: Format matches the API (e.g., "PT12M00.00S" for 12:00 or "Q1 06:48" depending on endpoint).
- `broadcasters`: Stored as arrays of text strings for easy querying.
- `game_json`: Stores the full raw JSON payload from the official NBA `scoreboard` or `game` endpoint.
- `ngss_game_id`: Stores the Genius Sports identifier for cross-referencing legacy feeds.
- `game_duration_minutes`: Derived from `gameDurationSeconds` / 60.
- `game_label` / `game_sublabel`: Used for special events like "Emirates NBA Cup Championship".
- `game_subtype`: "in-season", "in-season-knockout", etc.
